<html>

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta charset="UTF-8">
</head>

<body>
	<script type="application/javascript" src="el.js"></script>
	<script type="text/javascript">
		window.addEventListener('load', () => {
			window.store = elStorage("store");
			elto(document.body, elNamedScenes(store.variable("mainScene"), {
				// Main scene
				main: api => {

					let floatText = elText("^")
						.then(elStyle("transition", "500ms"))
						.then(elStyle("position", "absolute"))
					let setXY = (x, y) => {
						floatText.style.left = x + "px"
						floatText.style.top = y + "px"
					}
					let sizeSetter = (n) => () => {
						floatText.style['font-size'] = n + "px";
					}

					api.append(floatText);

					api.append(elAnimation(ani => {
						ani.newLine(4, line => {
							line.addFunction(1, () => { floatText.innerHTML = "^" });
							line.addFunction(2, () => { floatText.innerHTML = "-" });
							line.addFunction(3, () => { floatText.innerHTML = "v" });
							line.addFunction(4, () => { floatText.innerHTML = "-" });
						})
						ani.repeat(true);
						ani.time(50);
					}));

					api.append(elAnimation(ani => {
						ani.newLine(30, line => {
							line.with(setXY)
								.next(10).from(0, 0).to(500, 50).animate()
								.next(5).to(600, 0).func(sizeSetter(16)).animate()
								.next(10).to(0, 50).animate()
								.next(5).to(0, 0).func(sizeSetter(32)).animate();
						});
						ani.repeat(true);
						ani.time(100);
					}))

				}

			}))
		});
	</script>
</body>

</html>